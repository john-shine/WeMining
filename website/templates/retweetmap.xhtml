$def with(screen_name, profile_image_url, query, svg_str, pagerank_str, between_str, degree_str, start, end)
$var doctype: DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"
$var username: $screen_name
$var profile_image_url: $profile_image_url
$var title: 微博转发传播网络
$var cssfiles: /static/css/retweetmap.css
$var jsfiles: /static/libraries/prototype.js /static/libraries/raphael-min.js /static/js/retweetmap.js /static/js/svgpan.js
    <div id="content2">
      <p />
      <p><strong>微博转发传播网络</strong></p>
      <form id="keywords" action="/retweetmap" autocomplete="off">
          <strong>关键词:</strong><input type="text" name="q" value="$query" />
	  <strong>起始时间:</strong><input type="text" name="start" value="$start" />
          <strong>终止时间:</strong><input type="text" name="end" value="$end" />
	  <input type="hidden" name="count" value="2000" />
	  <input type="submit" value="分析" class="radio"/>
      </form>
      <p />
      <form id="search" action="#" autocomplete="off">
	<input type="text" id="query" value="找人" />
	<input type="submit" value="搜索" />
      </form>
      <div id="menu">
	<p id="time"></p>
	<p id="guage"></p>
        <button id="play" class="radio">播放</button>
        <button id="stop" class="radio">重置</button>
      </div>
      <div id="mapContainer">
	<div id="map" >
	  <!-- One popup is used to show all sorts of information in the map -->
	  <div id="popup" />
          $:svg_str
        </div>
      </div>
      <div id="data">
	$:degree_str
	$:pagerank_str
	$:between_str
      </div>
    </div>
